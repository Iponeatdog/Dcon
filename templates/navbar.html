<header class="navbar">
    <div class="nav-left">
        <a href="/" class="logo">
            <img src="{{ url_for('static', filename='brain1.jpg') }}" alt="Logo">
            <span class="logo-text">MindSense</span>
        </a>
    </div>

    <div class="nav-center">
        <div class="search-box">
            <input type="text" placeholder="Search">
            <span class="search-icon">ğŸ”</span>
        </div>
    </div>

    <div class="nav-right">
        <a href="#" class="icon-btn">ğŸ‘¤</a>
        <a href="#" class="icon-btn">ğŸ›’</a>

        <div class="language-selector">
            <span class="selected-lang">{{ lang }}</span>
            <span class="arrow">â–¾</span>

            <div class="lang-dropdown">
                <a href="/TH" class="lang-option">TH - à¸ à¸²à¸©à¸²à¹„à¸—à¸¢</a>
                <a href="/EN" class="lang-option">EN - English</a>
                <a href="/JP" class="lang-option">JP - æ—¥æœ¬èª</a>
                <a href="/ZH" class="lang-option">ZH - ä¸­æ–‡(ç®€ä½“)</a>
            </div>
        </div>
    </div>
</header>

<script>
document.addEventListener("DOMContentLoaded", function() {

    const langSelector = document.querySelector(".language-selector");
    const dropdown = document.querySelector(".lang-dropdown");

    // Toggle dropdown
    langSelector.addEventListener("click", function (e) {
        dropdown.style.display =
            dropdown.style.display === "flex" ? "none" : "flex";
        e.stopPropagation();
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", function () {
        dropdown.style.display = "none";
    });

    // Replace selected language when choosing
    document.querySelectorAll(".lang-option").forEach(option => {
        option.addEventListener("click", function () {
            document.querySelector(".selected-lang").textContent =
                option.textContent.split(" - ")[0];  
        });
    });

});
</script>
